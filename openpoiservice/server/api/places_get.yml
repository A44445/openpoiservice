tags:
  - Places
summary: openpoiservice (GET)
description: |
            Returns points of interest in the area surrounding a point, in a polygon or line geometry.
            Use the post endpoint for requests that exceed the get character limit.

parameters:
  - name: request
    in: query
    description: |
                pois will return POI geometry as well as requested details.
                category_stats returns a POI count for each requested category.
                category_list returns a list of all categories (only the id parameter will be considered).
    required: true
    type: string
    enum:
    - pois
    - category_stats
    - category_list
    default: pois
  - name: category_group_ids
    in: query
    description: Comma separated list of category group ids.
    type: array
    collectionFormat: csv
    default:
      - 420
    items:
      type: integer
      format: int64

  - name: category_ids
    in: query
    description: Comma separated list of category ids.
    type: array
    default:
      - 601
      - 280
    items:
      type: integer
      format: int64
    collectionFormat: csv

  - name: bbox
    in: query
    description: Defines a clipping bounding box. Can be defined additionally to geometry.
    type: array
    collectionFormat: pipes
    minItems: 2
    maxItems: 2
    default:
      - 53.075051,8.798952
      - 53.080785,8.907160
    items:
      type: string

  - name: geometry_type
    in: query
    description: The type of geometry
    type: string
    enum:
    - point
    - linestring
    - polygon
    default: point

  - name: geometry
    in: query
    type: array
    description: The geometry
    default:
      - 53.075051,8.798952
      - 53.080785,8.907160
      - 53.080785,9.107160
    collectionFormat: pipes
    items:
      type: string

  - name: radius
    in: query
    description: Search radius in meters around a point. Required if geometry_type is point or linestring.
    type: integer
    maximum: 20000
    minimum: 1
    format: int32
    default: 500

  - name: limit
    in: query
    description: Maximum number of returned objects.
    type: integer
    maximum: 1000
    minimum: 1
    format: int32
    default: 500

  - name: sortby
    in: query
    description: Sorts the returned features.
    type: string
    enum:
    - distance
    - category

  - name: id
    in: query
    description: Arbitrary identification string of the request reflected in the meta information.
    type: string

  # CUSTOM FIELDS
  - name: name
    in: query
    description: Name to filter the POIs by using sql like.
    type: string

  - name: wheelchair
    in: query
    description: Filter returned features by wheelchair tag entries.
    type: string
    enum:
    - yes
    - no
    - limited
    - designated

  - name: smoking
    in: query
    description: Filter returned features by wheelchair tag entries.
    type: string
    enum:
    - dedicated
    - yes
    - no
    - separated
    - isolated
    - outside

  - name: fee
    in: query
    description: Filter returned features by fee tag entries.
    type: string
    enum:
    - yes
    - no

responses:
  200:
    description: Standard response for successfully processed requests.
    schema:
      $ref: '#/definitions/LocationsPoiResponse'
  400:
    description: Unable to parse JSON request.
  401:
    description: Required parameter is missing.
  402:
    description: Invalid parameter format.
  403:
    description: Invalid parameter value.
  404:
    description: Parameter value exceeds the maximum allowed limit.
  499:
    description: Unknown internal error.

definitions:

  # IDENTICAL FOR GET/POST
  LocationsPoiResponse:
    type: "object"
    properties:
      type:
        type: "string"
        default: "FeatureCollection"
        example: "FeatureCollection"
      features:
        type: "array"
        items:
          $ref: "#/definitions/location_features"
        example:
          - {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                  8.1691,
                  47.444286
                ]
              },
              "properties": {
                "osm_id": "4491251090",
                "category": "451",
                "name": "Volg",
                "distance": "115.08"
              }
            }
          - {
              "type": "Feature",
              "geometry": {
                "type": "Point",
                "coordinates": [
                  8.168594,
                  47.380072
                ]
              },
              "properties": {
                "osm_id": "2754058215",
                "category": "474",
                "name": "Berner Früchte und Gemüse",
                "phone": "+41 (0)62 891 34 50/51",
                "website": "http://www.berner-gemuese.ch",
                "distance": "76.58"
              }
            }
      bbox:
        type: "array"
        items:
          type: "number"
          format: "double"
        maxItems: 4
        minItems: 4
        description: "Contains the minimum bounding box of all features."
        example:
          - 8.168594
          - 47.380072
          -  8.1691
          - 47.444286
      #info:
        #$ref: "#.."
    title: "Places Poi Response Object"

  location_features:
    type: "object"
    properties:
      type:
        type: "string"
        default: "Feature"
      geometry:
        $ref: "#/definitions/location_features_geometry"
      properties:
        $ref: "#/definitions/location_features_properties"
    title: "features object"

  location_features_geometry:
    properties:
      type:
        type: "string"
        default: "Point"
      coordinates:
        type: "array"
        items:
          type: "number"
          format: "double"
        maxItems: 2
        minItems: 2
    title: "geometry object"
  location_features_properties:
    properties:
      osm_id:
        type: "string"
      category:
        type: "string"
      name:
        type: "string"
      address:
        type: "string"
      phone:
        type: "string"
      website:
        type: "string"
      opening_hours:
        type: "string"
      wheelchair:
        type: "string"
      distance:
        type: "string"
    title: "properties object"